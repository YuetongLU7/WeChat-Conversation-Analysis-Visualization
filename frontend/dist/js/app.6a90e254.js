(function(t){function e(e){for(var a,o,n=e[0],i=e[1],c=e[2],u=0,p=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);d&&d(e);while(p.length)p.shift()();return l.push.apply(l,c||[]),s()}function s(){for(var t,e=0;e<l.length;e++){for(var s=l[e],a=!0,n=1;n<s.length;n++){var i=s[n];0!==r[i]&&(a=!1)}a&&(l.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},r={app:0},l=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],i=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=i;l.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"2ed5":function(t,e,s){"use strict";s("e892")},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("el-button",{on:{click:t.testBackend}},[t._v("Test Backend Connection")]),e("el-container",[e("el-header",[e("h1",[t._v("WeChat Chat Sentiment Analysis")]),e("h2",[t._v("WeChat Chat Sentiment Analysis")])]),e("el-main",[e("home-view")],1),e("el-footer",[e("p",[t._v("Â© 2025 WeChat Sentiment Analysis")])])],1)],1)},l=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-view"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-card",{staticClass:"upload-card"},[e("div",{attrs:{slot:"header"},slot:"header"},[e("h2",[t._v("Upload Chat Records")])]),e("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:t.$http.defaults.baseURL+"/api/upload",headers:t.uploadHeaders,"on-success":t.handleUploadSuccess,"on-error":t.handleUploadError,"before-upload":t.beforeUpload,"show-file-list":!1}},[e("i",{staticClass:"el-icon-upload"}),e("div",{staticClass:"el-upload__text"},[t._v(" Drag file here or "),e("em",[t._v("click to upload")])]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" Please upload CSV chat record file exported from WeChat ")])])],1)],1)],1),t.loading?e("el-row",[e("el-col",{staticClass:"loading-container",attrs:{span:24}},[e("el-card",[e("div",{staticClass:"loading-text"},[e("i",{staticClass:"el-icon-loading"}),e("p",[t._v("Analyzing chat records, please wait...")])])])],1)],1):t._e(),t.analysisResults?e("div",{staticClass:"analysis-results"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-card",{staticClass:"result-card"},[e("div",{attrs:{slot:"header"},slot:"header"},[e("h2",[t._v("Time Analysis")])]),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,sm:12}},[e("div",{staticClass:"stat-box"},[e("h3",[t._v("Chat Time Span")]),e("p",[t._v(t._s(t.analysisResults.time_analysis.first_date)+" to "+t._s(t.analysisResults.time_analysis.last_date))]),e("p",[t._v("Total "+t._s(t.analysisResults.time_analysis.total_days)+" days")])])]),e("el-col",{attrs:{xs:24,sm:12}},[e("div",{staticClass:"stat-box"},[e("h3",[t._v("Message Statistics")]),e("p",[t._v("Total messages: "+t._s(t.analysisResults.time_analysis.total_messages))]),e("p",[t._v("Daily average: "+t._s((t.analysisResults.time_analysis.total_messages/t.analysisResults.time_analysis.total_days).toFixed(2))+" messages/day")])])])],1),e("el-row",{staticClass:"chart-row",attrs:{gutter:20}},[e("el-col",{staticClass:"chart-container",attrs:{xs:24,md:12}},[e("h3",[t._v("Monthly Messages")]),e("img",{staticClass:"chart-image",attrs:{src:t.getImageUrl(t.analysisResults.time_analysis.monthly_chart)}})]),e("el-col",{staticClass:"chart-container",attrs:{xs:24,md:12}},[e("h3",[t._v("Hourly Messages")]),e("img",{staticClass:"chart-image",attrs:{src:t.getImageUrl(t.analysisResults.time_analysis.hourly_chart)}})])],1),e("el-row",{staticClass:"chart-row"},[e("el-col",{staticClass:"chart-container",attrs:{span:24}},[e("h3",[t._v("Chat Frequency Heatmap")]),e("img",{staticClass:"chart-image",attrs:{src:t.getImageUrl(t.analysisResults.calendar_heatmap)}})])],1)],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-card",{staticClass:"result-card"},[e("div",{attrs:{slot:"header"},slot:"header"},[e("h2",[t._v("Word Cloud Analysis")])]),e("el-tabs",{attrs:{type:"border-card"}},[e("el-tab-pane",{attrs:{label:"Both"}},[e("iframe",{staticClass:"word-cloud-frame",attrs:{src:t.getWordCloudUrl(t.analysisResults.word_cloud.both)}})]),e("el-tab-pane",{attrs:{label:"Mine"}},[e("iframe",{staticClass:"word-cloud-frame",attrs:{src:t.getWordCloudUrl(t.analysisResults.word_cloud.sender)}})]),e("el-tab-pane",{attrs:{label:"Other"}},[e("iframe",{staticClass:"word-cloud-frame",attrs:{src:t.getWordCloudUrl(t.analysisResults.word_cloud.receiver)}})]),t.analysisResults.word_cloud.french?e("el-tab-pane",{attrs:{label:"French"}},[e("iframe",{staticClass:"word-cloud-frame",attrs:{src:t.getWordCloudUrl(t.analysisResults.word_cloud.french)}})]):t._e()],1)],1)],1)],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-card",{staticClass:"result-card"},[e("div",{attrs:{slot:"header"},slot:"header"},[e("h2",[t._v("Sentiment Analysis")])]),e("el-row",{attrs:{gutter:20}},[e("el-col",{staticClass:"chart-container",attrs:{xs:24,md:12}},[e("h3",[t._v("Emotion Radar Chart")]),e("img",{staticClass:"chart-image",attrs:{src:t.getImageUrl(t.sentimentResults.radar_chart)}})]),e("el-col",{attrs:{xs:24,md:12}},[e("div",{staticClass:"sentiment-summary"},[e("h3",[t._v("Sentiment Summary")]),e("p",[t._v(t._s(t.sentimentResults.summary))])])])],1)],1)],1)],1),e("el-row",[e("el-col",{staticClass:"download-container",attrs:{span:24}},[e("el-button",{attrs:{type:"primary",size:"large",icon:"el-icon-download"},on:{click:t.downloadReport}},[t._v(" Download Full Report ")])],1)],1)],1):t._e()],1)},n=[],i={name:"HomeView",data(){return{loading:!1,analysisResults:null,sentimentResults:null,reportUrl:null,uploadHeaders:{}}},methods:{beforeUpload(t){const e="text/csv"===t.type||t.name.endsWith(".csv");return e?(this.loading=!0,!0):(this.$message.error("Only CSV files are allowed!"),!1)},handleUploadSuccess(t){this.loading=!1,t.success?(this.analysisResults=t.data,this.sentimentResults=t.sentiment,this.reportUrl=t.report_url,this.$message.success("Analysis completed!")):this.$message.error("Analysis failed: "+(t.error||"Unknown error"))},handleUploadError(t){this.loading=!1,console.error("Upload error:",t),this.$message.error("Upload failed, please try again!")},getImageUrl(t){return t?`${this.$http.defaults.baseURL}/${t}`:""},getWordCloudUrl(t){return t?`${this.$http.defaults.baseURL}/${t}`:""},downloadReport(){this.reportUrl?window.open(`${this.$http.defaults.baseURL}${this.reportUrl}`,"_blank"):this.$message.error("Report not available")}}},c=i,d=(s("9cd0"),s("2877")),u=Object(d["a"])(c,o,n,!1,null,"aa3f7256",null),p=u.exports,h={name:"App",components:{HomeView:p},methods:{async testBackend(){try{const t=await this.$http.get("/api/test");console.log("Backend response:",t.data),this.$message.success("Successfully connected to backend: "+t.data.message)}catch(t){console.error("Failed to connect to backend:",t),this.$message.error("Connection failed: "+(t.response&&t.response.data&&t.response.data.error||t.message))}}}},m=h,f=(s("2ed5"),Object(d["a"])(m,r,l,!1,null,null,null)),y=f.exports,g=s("5c96"),_=s.n(g),v=(s("0fae"),s("bc3a")),C=s.n(v);C.a.defaults.baseURL="http://localhost:8082",a["default"].prototype.$http=C.a,a["default"].use(_.a),a["default"].config.productionTip=!1,new a["default"]({render:t=>t(y)}).$mount("#app")},"9cd0":function(t,e,s){"use strict";s("c05e")},c05e:function(t,e,s){},e892:function(t,e,s){}});
//# sourceMappingURL=app.6a90e254.js.map